<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles.css">
    <title>Kopa Keja | User Documents</title>
</head>
<body>
    <nav>
        <div class="navbar-container">
            <h4 class="logo"><a href="/">KOPA KEJA</a></h4>
            <ul class="nav-links">
                <li><a href="./admindashboard">Dashboard</a></li>
                <li><a href="./adminapplication">Mortgages Application</a></li>
                <li><a href="./transactions">Check Payments</a></li>
                <li><a href="/logout">Log Out</a></li>
            </ul>
        </div>
    </nav>

    <div class="name">
        <h2>Hello Admin {{user}}</h2>
    </div>

  <div class="documents">
    {{#if userDocuments.length}}
        <h3>User Documents</h3>
        <div class="document-list">
            {{#each userDocuments}}
                <div class="document">
                    <h4 class="pdf-title" data-document-path="{{this.document_path}}" style="cursor: pointer;">{{this.document_name}}</h4>
                </div>
            {{/each}}
        </div>
    {{else}}
        <p>No documents found for this user.</p>
    {{/if}}
</div>

<!-- No need for the pdf-container div if you're opening in a new tab -->

<script>
    document.querySelectorAll('.pdf-title').forEach(title => {
        title.addEventListener('click', async () => {
            const documentPath = title.getAttribute('data-document-path');
            // Open the document in a new tab
            window.open(documentPath, '_blank');
        });
    });
</script>
</body>
</html>
